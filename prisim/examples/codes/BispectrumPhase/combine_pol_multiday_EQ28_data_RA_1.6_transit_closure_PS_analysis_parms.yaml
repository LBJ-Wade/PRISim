########## Directory Structure information ######### 

dirStruct   :
                                # Directory information

    datadirs        : ['/lustre/aoc/projects/hera/nthyagar/data/HERA/IDR2.1/ClosurePhase/Binned_Data_0100_0220/EQ28/XX/PS/',
                       '/lustre/aoc/projects/hera/nthyagar/data/HERA/IDR2.1/ClosurePhase/Binned_Data_0100_0220/EQ28/YY/PS/'
                      ]
                                # Folders which contain data to be
                                # combined. The number of folders must
                                # match the number of files provided
                                # below

    infiles_a       : ['xCPDPS_collapse_axes_13_EQ28XX_LST_1.6hr.hdf5',
                       'xCPDPS_collapse_axes_13_EQ28YY_LST_1.6hr.hdf5'
                      ]
                                # Filenames that contain the cross-
                                # power spectrum information for type
                                # A which have not converted the
                                # day x day matrix into the trace of its
                                # diagonals. The number of files must
                                # match the number of folders provided
                                # above

    err_infiles_a   : ['xCPDPS_collapse_axes_13_EQ28XX_LST_1.6hr_errinfo.hdf5',
                       'xCPDPS_collapse_axes_13_EQ28YY_LST_1.6hr_errinfo.hdf5'
                      ]
                                # Filenames that contain the cross-
                                # power spectrum errinfo information
                                # from subsample differencing for type
                                # A which have not converted the
                                # day x day matrix into the trace of its
                                # diagonals. The number of files must
                                # match the number of folders provided
                                # above

    infiles_b       : ['xCPDPS_collapse_axes_123_EQ28XX_LST_1.6hr.hdf5',
                       'xCPDPS_collapse_axes_123_EQ28YY_LST_1.6hr.hdf5'
                      ]
                                # Filenames that contain the cross-
                                # power spectrum information for type
                                # B which have not converted the
                                # day x day matrix into the trace of its
                                # diagonals. The number of files must
                                # match the number of folders provided
                                # above

    err_infiles_b   : ['xCPDPS_collapse_axes_123_EQ28XX_LST_1.6hr_errinfo.hdf5',
                       'xCPDPS_collapse_axes_123_EQ28YY_LST_1.6hr_errinfo.hdf5'
                      ]
                                # Filenames that contain the cross-
                                # power spectrum errinfo information
                                # from subsample differencing for type
                                # B which have not converted the
                                # day x day matrix into the trace of its
                                # diagonals. The number of files must
                                # match the number of folders provided
                                # above

    modelinfo       :
                                # Model information to be read in

        model_labels    : ['FG', 'FG+HI']
                                # Model labels associated with each of
                                # the input models

        mdldirs         : [
                           ['/lustre/aoc/projects/hera/nthyagar/data/HERA/IDR2.1/ClosurePhase/models/bispectrum_phase/PS/',
                            '/lustre/aoc/projects/hera/nthyagar/data/HERA/IDR2.1/ClosurePhase/models/bispectrum_phase/PS/'],
                           ['/lustre/aoc/projects/hera/nthyagar/data/HERA/IDR2.1/ClosurePhase/models/bispectrum_phase/PS/',
                            '/lustre/aoc/projects/hera/nthyagar/data/HERA/IDR2.1/ClosurePhase/models/bispectrum_phase/PS/'],
                           
                          ]
                                # List of input folders containing
                                # model cross-power spectra, one for
                                # each model. Input and output files
                                # specified by infile_pfx and
                                # outfile_pfx will be found in this
                                # folder. 

        infiles_a       : [
                           ['xCPDPS_collapse_axes_13_EQ28XX_GLEAM_all_RA_1.6_FOV_30_ephemeris_HERA61_noiseless.hdf5',
                            'xCPDPS_collapse_axes_13_EQ28XX_GLEAM_all_RA_1.6_FOV_30_ephemeris_HERA61_noiseless.hdf5'],
                           ['xCPDPS_collapse_axes_13_EQ28XX_HI_21cmfast_FaintGalaxies_fiducial_GLEAM_all_RA_1.6_FOV_30_ephemeris_HERA61_noiseless.hdf5',
                            'xCPDPS_collapse_axes_13_EQ28XX_HI_21cmfast_FaintGalaxies_fiducial_GLEAM_all_RA_1.6_FOV_30_ephemeris_HERA61_noiseless.hdf5']
                          ]
                                # Filenames that contain the cross-
                                # power spectrum information for type
                                # A which have not converted the
                                # day x day matrix into the trace of its
                                # diagonals. The number of files must
                                # match the number of folders provided
                                # above

        err_infiles_a   : [
                           ['xCPDPS_collapse_axes_13_EQ28XX_GLEAM_all_RA_1.6_FOV_30_ephemeris_HERA61_noiseless_errinfo.hdf5',
                            'xCPDPS_collapse_axes_13_EQ28XX_GLEAM_all_RA_1.6_FOV_30_ephemeris_HERA61_noiseless_errinfo.hdf5'],
                           ['xCPDPS_collapse_axes_13_EQ28XX_HI_21cmfast_FaintGalaxies_fiducial_GLEAM_all_RA_1.6_FOV_30_ephemeris_HERA61_noiseless_errinfo.hdf5',
                            'xCPDPS_collapse_axes_13_EQ28XX_HI_21cmfast_FaintGalaxies_fiducial_GLEAM_all_RA_1.6_FOV_30_ephemeris_HERA61_noiseless_errinfo.hdf5']
                          ]
                                # Filenames that contain the cross-
                                # power spectrum errinfo information
                                # from subsample differencing for type
                                # A which have not converted the
                                # day x day matrix into the trace of its
                                # diagonals. The number of files must
                                # match the number of folders provided
                                # above

        infiles_b       : [
                           ['xCPDPS_collapse_axes_123_EQ28XX_GLEAM_all_RA_1.6_FOV_30_ephemeris_HERA61_noiseless.hdf5',
                            'xCPDPS_collapse_axes_123_EQ28XX_GLEAM_all_RA_1.6_FOV_30_ephemeris_HERA61_noiseless.hdf5'],
                           ['xCPDPS_collapse_axes_123_EQ28XX_HI_21cmfast_FaintGalaxies_fiducial_GLEAM_all_RA_1.6_FOV_30_ephemeris_HERA61_noiseless.hdf5',
                            'xCPDPS_collapse_axes_123_EQ28XX_HI_21cmfast_FaintGalaxies_fiducial_GLEAM_all_RA_1.6_FOV_30_ephemeris_HERA61_noiseless.hdf5']
                          ]
                                # Filenames that contain the cross-
                                # power spectrum information for type
                                # B which have not converted the
                                # day x day matrix into the trace of its
                                # diagonals. The number of files must
                                # match the number of folders provided
                                # above

        err_infiles_b   : [
                           ['xCPDPS_collapse_axes_123_EQ28XX_GLEAM_all_RA_1.6_FOV_30_ephemeris_HERA61_noiseless_errinfo.hdf5',
                            'xCPDPS_collapse_axes_123_EQ28XX_GLEAM_all_RA_1.6_FOV_30_ephemeris_HERA61_noiseless_errinfo.hdf5'],
                           ['xCPDPS_collapse_axes_123_EQ28XX_HI_21cmfast_FaintGalaxies_fiducial_GLEAM_all_RA_1.6_FOV_30_ephemeris_HERA61_noiseless_errinfo.hdf5',
                            'xCPDPS_collapse_axes_123_EQ28XX_HI_21cmfast_FaintGalaxies_fiducial_GLEAM_all_RA_1.6_FOV_30_ephemeris_HERA61_noiseless_errinfo.hdf5']
                          ]
                                # Filenames that contain the cross-
                                # power spectrum errinfo information
                                # from subsample differencing for type
                                # B which have not converted the
                                # day x day matrix into the trace of its
                                # diagonals. The number of files must
                                # match the number of folders provided
                                # above

    outdir          : '/lustre/aoc/projects/hera/nthyagar/data/HERA/IDR2.1/ClosurePhase/Binned_Data_0100_0220/EQ28/XX_YY/'
                                # Folder under which the outputs go

    figdir          : 'figures/'
                                # Figures directory

    plotfile_pfx    : 'EQ28_dualpol_data'

########## Figure/Plot parameters ##########

plot        :

    '2'         :
                                # Plot closure phase delay power
                                # spectra

        action      : true

        sampling    : 'resampled'
                                # Sampling type from which delay power
                                # spectrum will be plotted. Accepted
                                # values are 'resampled' (default) and
                                # 'oversampled'

        statistic   : 'median'
                                # Delay power spectra obtained from
                                # this statistic of the closure phases
                                # will be plotted. Accepted values are
                                # 'mean' and 'median'. If set to null,
                                # both will be plotted.

        datapool    : ['whole']
                                # Pool of data from which plots are to
                                # be made. Accepted values are 'whole',
                                # 'submodel', and 'residual'

        spw         : [0, 1]
                                # Spectral window index. Must be a 
                                # list of spectral window indices. if 
                                # set to null, all spectral windows
                                # are plotted

        units       : 'K'
                                # Units of power spectrum to be in
                                # squared 'K' (default) or squared 'Jy'

        errtype     : ['ssdiff']
                                # Type of error bar(s) to plot.
                                # Accepted values are 'ssdiff'
                                # (subsample difference) and 'psdiff'
                                # (power spectrum difference from
                                # different realizations)

        nsigma      : 1.0
                                # Number of sigma to plot

    '2c'        :
                                # Plot PS after incoherent averaging
                                # over redundant triads, LST diff
                                # range, and/or other polarization.

        action      : true

        incohax_a   : [
                       [1, 3],
                       [1, 3],
                       [1, 3],
                       [1, 3]
                      ]
                                # Axes over which incoherent averaging
                                # is to be performed. Specified as a
                                # of lists, with each list specifying
                                # the axes of that combination of
                                # averaging. The diagoffsets below
                                # specifies for each combination
                                # which of the diagonal offsets get
                                # averaged along the specified axes.
                                # 1=LST, 2=Days, 3=Triads

        diagoffsets_a : [
                         [[0], [0]],
                         [[0], [0,1,2,3,4,5,6,7,8,9,
                                10,11,12,13,14,15,16,17,18,19,
                                20,21,22,23,24,25,26,27,28,29,
                                30]],
                         [[0], [1,2,3,4,5,6,7,8,9,10,
                                11,12,13,14,15,16,17,18,19,20,
                                21,22,23,24,25,26,27,28,29,30]],
                         [[0], [1,2,3,4,5,6,7,8,9,10,
                                11,12,13,14,15,16,17,18,19,20,
                                21,22,23,24,25,26,27,28,29,30]]
                        ]
                                # Diagonal offsets to be averaged
                                # along each of the axes specified in
                                # incohax. It is also specified as a
                                # list of lists. For each inner list 
                                # in incohax, and for each element in
                                # that inner list, a list of diagonal
                                # offsets is specified here. 

        incohax_b   : [
                       [1, 2, 3],
                       [1, 2, 3],
                       [1, 2, 3],
                       [1, 2, 3]
                      ]
                                # Axes over which incoherent averaging
                                # is to be performed. Specified as a
                                # of lists, with each list specifying
                                # the axes of that combination of
                                # averaging. The diagoffsets below
                                # specifies for each combination
                                # which of the diagonal offsets get
                                # averaged along the specified axes.
                                # 1=LST, 2=Days, 3=Triads

        diagoffsets_b : [
                         [[0], [1], [0]],
                         [[0], [1], [0,1,2,3,4,5,6,7,8,9,
                                10,11,12,13,14,15,16,17,18,19,
                                20,21,22,23,24,25,26,27,28,29,
                                30]],
                         [[0], [1], [1,2,3,4,5,6,7,8,9,
                                10,11,12,13,14,15,16,17,18,19,
                                20,21,22,23,24,25,26,27,28,29,
                                30]],
                         [[0], [-1,0,1], [1,2,3,4,5,6,7,8,9,10,
                                11,12,13,14,15,16,17,18,19,20,
                                21,22,23,24,25,26,27,28,29,30]]
                        ]
                                # Diagonal offsets to be averaged
                                # along each of the axes specified in
                                # incohax. It is also specified as a
                                # list of lists. For each inner list 
                                # in incohax, and for each element in
                                # that inner list, a list of diagonal
                                # offsets is specified here. 

        kprll_min   : 0.85
                                # Only values outside of
                                # |k_prll| >= kprll_min will be used
                                # in determing a single RMS across the
                                # k_prll bins. This is not the same
                                # as determining error bar in each
                                # k_prll bin. If set to None, values
                                # in all kprll bins will be used

    '2c_err'    :
                                # Analysis of the error bars of the
                                # current data set in comparison to
                                # another reference data set.

        action      : true

    '2d'        :
                                # Plot PS after incoherent averaging
                                # over k-bins, in standard PS and
                                # Delta^2 units

        action      : true

        kbin_min    : null
                                # Minimum value of k to be binned
                                # (in h/Mpc)

        kbin_max    : null
                                # Maximum value of k to be binned
                                # (in h/Mpc)

        num_kbins   : null
                                # Number of k-bins

        kbintype    : 'linear'
                                # Binning interval. Accepted values
                                # are 'linear' and 'log'

        kprll_min_rms   : 0.85
                                # Only values outside of
                                # |k_prll| >= kprll_min will be used
                                # in determing a single RMS across the
                                # k_prll bins. This is not the same
                                # as determining error bar in each
                                # k_prll bin. If set to None, values
                                # in all kprll bins will be used

